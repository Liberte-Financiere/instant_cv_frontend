@import "tailwindcss";

:root {
  --font-manrope: 'Manrope', sans-serif;
  --primary: #2463eb;
  --primary-dark: #1d4ed8;
  --background-dark: #0F172A;
  --background-light: #f6f6f8;
}

@theme {
  --font-sans: var(--font-manrope);
  --color-primary: var(--primary);
  --color-primary-dark: var(--primary-dark);
}

body {
  font-family: var(--font-sans);
}

/* Force text wrapping in CV templates */
.cv-template,
.cv-template p,
.cv-template div,
.cv-template span {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

/* Print styles for PDF export */
@media print {
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Page setup */
  @page {
    size: A4;
    /* Add space on top/bottom for pages 2, 3... */
    margin: 15mm 0; 
  }

  /* Page 1 often has full-bleed header/sidebar, so remove margins except bottom */
  @page :first {
    margin-top: 0;
    margin-left: 0;
    margin-right: 0;
    margin-bottom: 15mm;
  }
  
  /* CV Template sizing */
  .cv-template {
    width: 210mm !important;
    min-height: auto !important;
  }
  
  /* SECTIONS CAN BREAK - permet aux sections de se couper */
  .cv-template section {
    break-inside: auto;
    page-break-inside: auto;
  }
  
  /* Keep headings with at least some content after them */
  .cv-template h2,
  .cv-template h3 {
    break-after: avoid;
    page-break-after: avoid;
  }
  
  /* INDIVIDUAL ITEMS stay together (experience, education, certification, etc.) */
  /* These are the direct children divs inside sections - typically each entry */
  .cv-template .cv-item,
  .cv-template section > div > div {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  /* Avoid orphan lines */
  .cv-template p {
    orphans: 2;
    widows: 2;
  }
}

/* Screen styles - show page boundaries for long CVs */
@media screen {
  .cv-template {
    /* Visual page separator every 297mm */
    position: relative;
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0mm,
      transparent 296.5mm,
      rgba(255, 0, 0, 0.2) 296.5mm,
      rgba(255, 0, 0, 0.2) 297mm
    );
    background-size: 100% 297mm;
  }

  /* Add a text hint for page breaks on screen */
  .cv-template::before {
    content: 'Fin de page (A4)';
    position: absolute;
    right: -120px;
    top: 295mm;
    color: #ef4444;
    font-size: 12px;
    font-weight: bold;
    opacity: 0.5;
    pointer-events: none;
  }
}
